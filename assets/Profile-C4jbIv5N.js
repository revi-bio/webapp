import{_ as d}from"./Avatar.vue_vue_type_script_setup_true_lang-BeR7SOWP.js";import{d as _,u as g,c as h,a as x,b as s,e as r,_ as l,x as y,f as D,o as v,A as p}from"./index-DCXiRpB3.js";import{_ as w}from"./Input.vue_vue_type_style_index_0_lang-rI-8FFou.js";import{u as k}from"./settings-Dk-57ela.js";/* empty css                                                */const N={class:"flex flex-col justify-start content-start items-start gap-4"},C={class:"flex flex-row justify-center content-center items-center gap-10"},S={class:"flex flex-col justify-center content-center items-start gap-2"},U={class:"flex flex-col justify-center content-start items-start gap-2"},j={class:"text-base text-zinc-500"},E=_({__name:"Profile",setup(z){const i=k(),a=g();a.refreshUserData();const o=h(()=>{var e;return(e=a.getUserData())==null?void 0:e.displayName});console.log("displayname:",o);const f=()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async t=>{const n=t.target;if(n.files&&n.files[0]){const c=new FormData;c.append("file",n.files[0]),await p.patch("user/avatar",c),await a.refreshUserData()}},e.click(),a.xd().then(t=>console.log(t))},m=async()=>{await p.delete("user/avatar",null),await a.refreshUserData()},u=e=>{const t=e.target;i.updateDraft("displayName",t.value)};return(e,t)=>(v(),x("div",N,[t[0]||(t[0]=s("h3",{class:"text-lg text-zinc-300 text-left w-full"},"Profile picture",-1)),s("div",C,[r(d,{class:"w-[9rem] h-[9rem]"}),s("div",S,[r(l,{text:"Change picture",size:"small",rank:"primary","icon-position":"right","icon-type":"edit",onClick:f}),r(l,{text:"Delete picture",size:"small",rank:"primary","icon-position":"right","icon-type":"delete",onClick:m})])]),s("div",U,[s("h3",j,"Your current display name is: "+y(o.value),1),r(w,{type:"text",placeholder:"Displayname",class:"text-base",value:D(i).draft.displayName,onInput:u},null,8,["value"])])]))}});export{E as default};
